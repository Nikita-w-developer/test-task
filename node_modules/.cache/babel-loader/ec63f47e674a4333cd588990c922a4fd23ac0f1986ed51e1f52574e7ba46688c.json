{"ast":null,"code":"import React from\"react\";import styles from\"./Product.module.scss\";import stylus from\"../../assets/img/stylus_24dp_UNDEFINED_FILL0_wght400_GRAD0_opsz24.svg\";import close from\"../../assets/img/close_24dp_UNDEFINED_FILL0_wght400_GRAD0_opsz24.svg\";import heart from\"../../assets/img/favourite.svg\";import fillLike from\"../../assets/img/favourite_fill.svg\";import{useNavigate}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{addFavourite,removeItem,setCurrentId}from\"../../redux/Slices/productSlice\";import{setParams}from\"../../redux/Slices/editProductSlice\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Product=_ref=>{let{id,title,price,thumbnail,imageUrl,description}=_ref;const arrLikes=useSelector(state=>state.productSlice.isLiked);const items=useSelector(state=>state.productSlice.items);const dispatch=useDispatch();const onClickLike=()=>{dispatch(addFavourite({id}));};const onClickRemove=()=>{dispatch(removeItem({id}));};const navigate=useNavigate();const idRef=React.useRef();React.useEffect(()=>{const handleClickCard=event=>{if(idRef.current.contains(event.target)&&!event.target.closest(\"button\")){dispatch(setCurrentId(id));navigate(`/test-task/products/${id}`);}};document.body.addEventListener(\"click\",handleClickCard);return()=>document.body.removeEventListener(\"click\",handleClickCard);},[id,navigate]);const handleClickEdit=()=>{const params=items.filter(obj=>obj.id===id);dispatch(setParams(params[0]));navigate(\"/test-task/edit-product\");};return/*#__PURE__*/_jsxs(\"div\",{ref:idRef,id:id,className:styles.wrapper,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.img,children:/*#__PURE__*/_jsx(\"img\",{src:thumbnail||imageUrl,alt:\"img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.buttons,children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClickLike,children:/*#__PURE__*/_jsx(\"img\",{className:\"like\",src:arrLikes.find(obj=>obj.id===id)?fillLike:heart,alt:\"like\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:onClickRemove,children:/*#__PURE__*/_jsx(\"img\",{src:close,alt:\"x\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClickEdit,children:/*#__PURE__*/_jsx(\"img\",{src:stylus,alt:\"edit\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.descr,children:[/*#__PURE__*/_jsx(\"h5\",{children:title}),/*#__PURE__*/_jsx(\"p\",{children:price})]})]});};export default Product;","map":{"version":3,"names":["React","styles","stylus","close","heart","fillLike","useNavigate","useSelector","useDispatch","addFavourite","removeItem","setCurrentId","setParams","jsx","_jsx","jsxs","_jsxs","Product","_ref","id","title","price","thumbnail","imageUrl","description","arrLikes","state","productSlice","isLiked","items","dispatch","onClickLike","onClickRemove","navigate","idRef","useRef","useEffect","handleClickCard","event","current","contains","target","closest","document","body","addEventListener","removeEventListener","handleClickEdit","params","filter","obj","ref","className","wrapper","children","img","src","alt","buttons","onClick","find","descr"],"sources":["D:/Projects/test-task/src/components/Product/index.jsx"],"sourcesContent":["import React from \"react\";\r\nimport styles from \"./Product.module.scss\";\r\nimport stylus from \"../../assets/img/stylus_24dp_UNDEFINED_FILL0_wght400_GRAD0_opsz24.svg\";\r\nimport close from \"../../assets/img/close_24dp_UNDEFINED_FILL0_wght400_GRAD0_opsz24.svg\";\r\nimport heart from \"../../assets/img/favourite.svg\";\r\nimport fillLike from \"../../assets/img/favourite_fill.svg\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  addFavourite,\r\n  removeItem,\r\n  setCurrentId,\r\n} from \"../../redux/Slices/productSlice\";\r\nimport { setParams } from \"../../redux/Slices/editProductSlice\";\r\n\r\nconst Product = ({ id, title, price, thumbnail, imageUrl, description }) => {\r\n  const arrLikes = useSelector((state) => state.productSlice.isLiked);\r\n  const items = useSelector((state) => state.productSlice.items);\r\n  const dispatch = useDispatch();\r\n  const onClickLike = () => {\r\n    dispatch(addFavourite({ id }));\r\n  };\r\n  const onClickRemove = () => {\r\n    dispatch(removeItem({ id }));\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n  const idRef = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    const handleClickCard = (event) => {\r\n      if (\r\n        idRef.current.contains(event.target) &&\r\n        !event.target.closest(\"button\")\r\n      ) {\r\n        dispatch(setCurrentId(id));\r\n        navigate(`/test-task/products/${id}`);\r\n      }\r\n    };\r\n    document.body.addEventListener(\"click\", handleClickCard);\r\n    return () => document.body.removeEventListener(\"click\", handleClickCard);\r\n  }, [id, navigate]);\r\n  const handleClickEdit = () => {\r\n    const params = items.filter((obj) => obj.id === id);\r\n    dispatch(setParams(params[0]));\r\n    navigate(\"/test-task/edit-product\");\r\n  };\r\n  return (\r\n    <div ref={idRef} id={id} className={styles.wrapper}>\r\n      <div className={styles.img}>\r\n        <img src={thumbnail || imageUrl} alt=\"img\" />\r\n      </div>\r\n      <div className={styles.buttons}>\r\n        <button onClick={onClickLike}>\r\n          <img\r\n            className=\"like\"\r\n            src={arrLikes.find((obj) => obj.id === id) ? fillLike : heart}\r\n            alt=\"like\"\r\n          />\r\n        </button>\r\n        <button onClick={onClickRemove}>\r\n          <img src={close} alt=\"x\" />\r\n        </button>\r\n        <button onClick={handleClickEdit}>\r\n          <img src={stylus} alt=\"edit\" />\r\n        </button>\r\n      </div>\r\n      <div className={styles.descr}>\r\n        <h5>{title}</h5>\r\n        <p>{price}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}